"use strict";angular.module("hockeyFightsApp",["ngAnimate","ngAria","ngCookies","ngMessages","ngResource","ngRoute","ngSanitize","ngStorage","ngTouch"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl",controllerAs:"main"}).when("/about",{templateUrl:"views/about.html",controller:"AboutCtrl",controllerAs:"about"}).when("/gametime",{templateUrl:"views/gametime.html",controller:"GametimeCtrl",controllerAs:"gametime"}).otherwise({redirectTo:"/"})}]),angular.module("hockeyFightsApp").controller("MainCtrl",["$scope","sinBin","videoData","MATCHUPS","$sce","$location","$localStorage",function(a,b,c,d,e,f,g){var h=d;a.userGuess;var i=h[Math.floor(Math.random()*h.length)];a.firstGuyName=i.player1.name,a.firstGuyImg=i.player1.img,a.secondGuyName=i.player2.name,a.secondGuyImg=i.player2.img;var j=b.query({keywords:a.firstGuyName+"+"+a.secondGuyName+"fight"});j.$promise.then(function(a){var b=a.items[Math.floor(3*Math.random())].id.videoId,d='<iframe width="420" height="315" src="http://www.youtube.com/embed/'+b+'" frameborder="0" allowfullscreen class="center-block"></iframe>';c.videoHTML=d}),c.firstGuy=a.firstGuyName,c.secondGuy=a.secondGuyName,a.saveUserGuess=function(a){g.userGuess=a},a.playVideo=function(){f.path("/gametime")}}]),angular.module("hockeyFightsApp").controller("AboutCtrl",function(){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}),angular.module("hockeyFightsApp").factory("sinBin",["$resource",function(a){return a("https://www.googleapis.com/youtube/v3/search?part=snippet&q=:keywords&type=video&key=AIzaSyADdXtRZ0COj-iZ9CUxkHwsNjFa4YRoiIk",{},{query:{method:"GET",params:{keywords:"hockey fight"},isArray:!1}})}]),angular.module("hockeyFightsApp").constant("MATCHUPS",[{player1:{name:"Peter Worrell",img:"images/peter-worrell.c28806be.jpg"},player2:{name:"Matthew Barnaby",img:"images/matthew-barnaby.8a39205f.jpg"}},{player1:{name:"Tie Domi",img:"images/tie-domi.b615b3ac.jpg"},player2:{name:"Donald Brashear",img:"images/donald-brashear.b677543e.jpg"}},{player1:{name:"Georges Laraque",img:"images/georges-laraque.decdff90.png"},player2:{name:"Colton Orr",img:"images/colton-orr.848ddabf.jpg"}},{player1:{name:"Eric Lindros",img:"images/eric-lindros.b7eab74c.jpg"},player2:{name:"Scott Stevens",img:"images/scott-stevens.1d8ca734.jpg"}},{player1:{name:"Andre Roy",img:"images/andre-roy.b249442a.jpg"},player2:{name:"Riley Cote",img:"images/riley-cote.925e856e.jpg"}}]),angular.module("hockeyFightsApp").controller("GametimeCtrl",["$scope","videoData","$sce","$localStorage",function(a,b,c,d){function e(){var a=d.userGuess,b=d.userAnswer;d.correct?d.wrong||(d.wrong=0):d.correct=0,a==b?d.correct+=1:a!=b?d.wrong+=1:console.log("Houston, we have a problem.")}a.firstGuyName=b.firstGuy,a.secondGuyName=b.secondGuy,a.iframeCode=c.trustAsHtml(b.videoHTML),a.saveUserAnswer=function(a){d.userAnswer=a,e()}}]),angular.module("hockeyFightsApp").factory("videoData",function(){return{firstGuy:"",secondGuy:"",videoHTML:""}}),angular.module("hockeyFightsApp").run(["$templateCache",function(a){a.put("views/about.html","<p>This is the about view.</p>"),a.put("views/gametime.html",'<div ng-app ng-controller="GametimeCtrl"> <div class="row"> <div ng-bind-html="iframeCode"></div> </div> <div class="row"> <div class="col-md-6 col-md-offset-3"> <p class="lead text-center">Who do you think won the fight?</p> <button class="btn btn-default" type="submit" ng-click="saveUserAnswer(1)">{{ firstGuyName }}</button> <button class="btn btn-default" type="submit" ng-click="saveUserAnswer(2)">{{ secondGuyName }}</button><br> <a href="#/">Check out another fight!<a> </a></div> </div> </div>'),a.put("views/main.html",'<div ng-app ng-controller="MainCtrl"> <div class="row"> <p class="lead text-center">Who would win in a bout between:</p> </div> <div class="row"> <div class="col-xs-12 col-sm-12 col-md-5"> <h3 class="text-center"><span class="label label-danger">{{ firstGuyName }}</span></h3> <img class="player-thumbnail img-responsive center-block" ng-src="{{ firstGuyImg }}" ng-click="saveUserGuess(1); playVideo()"> </div> <div class="col-xs-12 col-sm-12 col-md-5 col-md-offset-2"> <h3 class="text-center"><span class="label label-danger">{{ secondGuyName }}</span></h3> <img class="player-thumbnail img-responsive center-block" ng-src="{{ secondGuyImg }}" ng-click="saveUserGuess(2); playVideo()"> </div> </div> </div>')}]);